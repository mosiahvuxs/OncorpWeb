<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html 	lang="pt-br"
		xmlns="http://www.w3.org/1999/xhtml">

<head>
	
	<meta charset="UTF-8"/>
	
	<title>ONCORP Soluções</title>
	
	<link rel="stylesheet" href="css/css.css" />
	<script type="text/javascript" src="js/jquery.1.7.1.min.js"/>
	
	<script>
		$(function(){
			var height = $(window).height();
			$('body').css('height', height);
		})
	</script>
	
    
    
</head>

<body class="login">

<form id="formPagSeguro">
	
	<input onclick="getSenderHash()" type="button" value="Identificador Compra"/>
	
	<br/>
	
	<input onclick="pegarToken('4111111111111111', 'visa', '123', '12', '2030');" type="button" value="Hash Cartao Credito"/>
	
	<input id="senderHash" type="text"/>	
	
	<br/>
	
	<input type="text" id="senderHashCartao"/>
	
	<script type="text/javascript" src="https://stc.pagseguro.uol.com.br/pagseguro/api/v2/checkout/pagseguro.directpayment.js"/>
	<script type="text/javascript">

	function pegarToken(numero,cartao,codigo,validade_mes,validade_ano){
		
		PagSeguroDirectPayment.setSessionId('00236c387f194dc78daff991d9995202');   
	
		var param = PagSeguroDirectPayment.createCardToken({
	        cardNumber: numero,
	        brand: cartao,
	        cvv: codigo,
	        expirationMonth: validade_mes,
	        expirationYear: validade_ano,
	        success: function(response){
	        	var x = document.getElementById("senderHashCartao");   // Get the element with id="demo"
	        	x.value = response.card.token;  
	        	alert('Sucesso ' + response.card.token);
	            
	        },
	        error: function(response){
	        	alert('Erro ' + response.error);
	        }
	   });
		
	}
	
	function getSenderHash(){ 
		
		PagSeguroDirectPayment.setSessionId('00236c387f194dc78daff991d9995202'); 
		
		var senderHash = PagSeguroDirectPayment.getSenderHash();
		
		$('#senderHash').val(senderHash);
		
		alert(senderHash);
		
		//$("input#senderHash").val(senderHash);
		
	}
		
	</script>
	
</form>

</body>	

</html>